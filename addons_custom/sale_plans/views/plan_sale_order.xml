<odoo>
	<data>
		<!-- create_form -->
		<record id="action_create_plan_sale_order" model="ir.actions.act_window">
			<field name="name">Tạo Phương án KD</field>
			<field name="res_model">plan.sale.order</field>
			<field name="view_mode">form,tree</field>
			<field name="view_id" ref="plan_sale_order_form" />
		</record>
		<record id="plan_sale_order_form" model="ir.ui.view">
			<field name="name">plan.sale.order.form</field>
			<field name="model">plan.sale.order</field>
			<field name="arch" type="xml">
				<form string="Plan Sale Order">
					<header>
						<button string="Xác nhận" type="object" name="action_confirm" class="btn-primary" options="{'invisible': [('state', '!=', 'draft')]}" />
						<button string="Hủy" type="object" name="action_cancel" class="btn-secondary" options="{'invisible': [('state', '!=', 'draft')]}" />
						<field name="state" widget="statusbar" statusbar_visible="draft, confirmed, cancel" />
					</header>
					<sheet>
						<group>
							<field name="name" required="1" />
							<field name="quotation_template_ids" readonly="1"/>
							<field name="plan_sale_order_info" required="1" />
							<field name= "approver_ids" />
						</group>
					</sheet>
					<footer>
						<button string="Lưu" type="object" name="save_action" class="oe_highlight" options="{'invisible': [('state', '!=', 'draft')]}" />
						<button string="Đóng" class="btn-secondary" special="cancel" />
					</footer>
				</form>
			</field>
		</record>

		<!-- get_list -->
		<record id="action_create_plan_sale_order" model="ir.actions.act_window">
			<field name="name">Danh sách Phương án KD</field>
			<field name="res_model">plan.sale.order</field>
			<field name="view_mode">tree,form</field>
			<field name="view_id" ref="plan_sale_order_tree" />
		</record>

		<record id="plan_sale_order_tree" model="ir.ui.view">
			<field name="name">plan.sale.order.tree</field>
			<field name="model">plan.sale.order</field>
			<field name="arch" type="xml">
				<tree string="Plan Sale Order">
					<field name="name" />
					<field name="quotation_template_ids" />
					<field name="plan_sale_order_info" />
					<field name= "approver_ids" />
					<field name= "state"
					decoration-success="state == 'confirmed'"
					decoration-danger="state == 'canceled'"
					decoration-info="state == 'draft'"
					widget="badge"
					/>
				</tree>
			</field>
		</record>
		<menuitem id="menu_plan_sale_order" name="Plan Sale Order" action="action_create_plan_sale_order" parent="sale.sale_order_menu" sequence="10" />
		
	</data>
</odoo>
